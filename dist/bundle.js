(()=>{var e={68:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27.777 36.514' version='1.0'%3e%3cdefs%3e%3clinearGradient id='prefix__a' x1='155.51' gradientUnits='userSpaceOnUse' y1='-459.75' gradientTransform='matrix(0 1.6732 -1.1476 0 -237.29 -184.28)' x2='173.43' y2='-440.71'%3e%3cstop stop-color='%23ff2a26' offset='0'/%3e%3cstop stop-color='%2396000d' offset='1'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath stroke-linejoin='round' d='M292.55 94.867h-5.35V73.971h-15.29v20.896h-5.38l13.03 13.873 12.99-13.873z' stroke='%236b1a11' stroke-width='1.75' fill='url(%23prefix__a)' color='%23000' transform='translate(-265.65 -73.096)'/%3e%3c/svg%3e"},520:e=>{e.exports="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27.777 36.514' version='1.0'%3e%3cdefs%3e%3clinearGradient id='prefix__a' x1='-155.74' gradientUnits='userSpaceOnUse' y1='558.8' gradientTransform='matrix(0 -1.6732 1.1476 0 -269.01 -124.96)' x2='-171.94' y2='541.27'%3e%3cstop stop-color='%2380ff26' offset='0'/%3e%3cstop stop-color='%232c9600' offset='1'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath stroke-linejoin='round' d='M348.77 146.39h5.34v20.89h15.3v-20.89h5.38l-13.03-13.87-12.99 13.87z' stroke='%23116b1c' stroke-width='1.75' fill='url(%23prefix__a)' color='%23000' transform='translate(-347.89 -131.64)'/%3e%3c/svg%3e"}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e="oldGrades";class t extends Error{constructor(t){alert("OCP: Something has gone wrong. See the developer console for more information."),localStorage.removeItem(e),console.error("OCP Error vvv"),super(t)}}const o=e=>{},a=e=>new Promise(t=>setTimeout(t,e));class s{constructor(e,r){this.location=e;const o=localStorage.getItem(e);if(null===o)return localStorage.setItem(e,JSON.stringify(r)),void(this.value=r);try{this.value=JSON.parse(o)}catch(e){throw new t(`Failed to parse localStorage value. Original error: ${String(e)}`)}}get(){return this.value}set(e){localStorage.setItem(this.location,JSON.stringify(e)),this.value=e}}const n={courses:[],timestamp:0},i=(e,t)=>{const r=[];for(const o of e){const e=t.find(({title:e})=>e===o.title);void 0!==e&&e.grade!==o.grade&&r.push({title:o.title,newGrade:o.grade,oldGrade:e.grade})}return r};var d=r(520),c=r.n(d),l=r(68),g=r.n(l);const f=e=>e.newGrade<e.oldGrade?g():c(),h=e=>`${e.toFixed(2)}%`,p=e=>`${e.title} used to be <b>${h(e.oldGrade)}</b>, now it's <b>${h(e.newGrade)}</b>`,u=(e,t,r=!0)=>`${Math.round(e)} ${t}${1===e?"":"s"}${r?" ago":""}`;(async()=>{if(!0===globalThis.window.OCP_ran)return;if(globalThis.window.OCP_ran=!0,"/"!==globalThis.location.pathname)return;for(;"undefined"==typeof jQuery;)o(),await a(100);for(;$(".bettercanvas-card-grade").length<=0;)o(),await a(100);const r=$(".bettercanvas-gpa-edit-btn")[0];if(void 0===r)throw new t("Couldn't find GPA button.");r.insertAdjacentHTML("afterend",'<div style="font-size:12px;margin-top:10px" id="gradeChanges"></div> ');(e=>{const t=$("#gradeChanges"),r=(o=Math.floor((e.now-e.timeSaved)/6e4))<1?"less than a minute ago":o<60?u(o,"minute"):o%60==0?u(o/60,"hour"):`${u((o-o%60)/60,"hour",!1)} and ${u(o%60,"minute")}`;var o;if(0===e.changes.length)return void t.text(`Your grades are the same as the last time you checked ${r}.`);const a=$("<div>").css({"margin-bottom":"10px"});a.text(`Your grades have changed since you last checked ${r}.`),t.append(a);for(const r of e.changes){const e=$("<div>").css({"margin-bottom":"5px"}),o=$("<img>").attr("src",f(r)).attr("width",14).css({"margin-right":"2px"}),a=$("<span>").html(p(r));e.append(o,a),t.append(e)}})((t=>{const r=new s(e,n),o=r.get(),a=Date.now(),d={changes:i(t,o.courses),now:a,timeSaved:o.timestamp};return r.set({courses:t,timestamp:a}),d})($(".ic-DashboardCard__header").map((e,t)=>({title:$(t).find(".ic-DashboardCard__header-title").text().trim(),grade:Number.parseFloat($(t).find(".bettercanvas-card-grade").text().trim().slice(0,-1))})).filter((e,{grade:t})=>!Number.isNaN(t)).toArray()))})()})()})();